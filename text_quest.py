import time

print()
print('------------------------------------------------------------------Добро пожаловать на квест--------------------------------------------------------------')
print()
time.sleep(2)
print('Квест начнется через...')
time.sleep(1)
for i in range(3, 0, -1):
    print(i)
    time.sleep(1)
time.sleep(1)
print("Вы - отважный искатель приключений, решивший пройти через таинственный лабиринт.")
time.sleep(2)
print("Ваша цель - найти сокровище, спрятанное в глубинах лабиринта.")
time.sleep(2)
print("Но будьте осторожны, лабиринт полон опасностей и загадок.")
time.sleep(2)
print("У вас есть 5 минут, чтобы найти сокровище. Приключение начинается... сейчас!")
time.sleep(2)
start_time = time.time()

while True:
    if time.time() - start_time > 300:
        print("Время вышло. Вы не успели найти сокровище и погибли в лабиринте.")
        break

    print("Оставшееся время: ", int(300 - (time.time() - start_time)), "секунд")
    print("Вы видите две дороги. Направо или налево?")
    direction = input("Ваш выбор: ")

    if direction.lower() == "направо":
        while True:
            print("Вы пошли направо и увидели дверь с надписью: 'Ответь на мою загадку, и я откроюсь: Что открывает замки, не будучи вором?'")
            answer = input("Ваш ответ: ")

            if answer.lower() == "ключ":
                print("Дверь медленно открывается, и вы продолжаете свое путешествие.")
                while True:
                    print("Вы входите в комнату, где видите зеркало. На зеркале надпись: 'Что никогда не врёт?'")
                    answer = input("Ваш ответ: ")

                    if answer.lower() == "зеркало":
                        print("Зеркало исчезает, и вы видите новую дверь.")
                        while True:
                            print("На двери надпись: 'Я летаю без крыльев. Я плачу без глаз. Кто я?'")
                            answer = input("Ваш ответ: ")

                            if answer.lower() == "облако":
                                print("Дверь открывается, и вы видите сокровище. Поздравляем, вы выиграли!")
                                break
                            else:
                                print("Ничего не происходит. Похоже, вы дали неправильный ответ.")
                        break
                    else:
                        print("Ничего не происходит. Похоже, вы дали неправильный ответ.")
                break
            else:
                print("Ничего не происходит. Похоже, вы дали неправильный ответ.")
    elif direction.lower() == "налево":
        print("Вы пошли налево и увидели старинный колодец. Вам поднять ведро с водой?")
        action = input("Ваш выбор (да/нет): ")

        if action.lower() == "да":
            print("Вы поднимаете ведро и видите на дне колодца ключ. Вам взять ключ?")
            action = input("Ваш выбор (да/нет): ")

            if action.lower() == "да":
                print("Вы берете ключ и продолжаете свое путешествие. Впереди вы видите дверь с замком.")
                print("На двери надпись: 'Я летаю без крыльев. Я плачу без глаз. Кто я?'")
                answer = input("Ваш ответ: ")

                if answer.lower() == "облако":
                    print("Вы открываете замок ключом, дверь открывается, и вы видите сокровище. Поздравляем, вы выиграли!")
                    break
                else:
                    print("Ничего не происходит. Похоже, вы дали неправильный ответ.")
            else:
                print("Вы решаете оставить ключ и продолжаете свое путешествие. К сожалению, вы упускаете возможность открыть дверь.")
        else:
            print("Вы решаете не поднимать ведро и продолжаете свое путешествие. К сожалению, вы упускаете возможность найти ключ.")
    else:
        print("Неизвестное направление. Попробуйте еще раз.")
